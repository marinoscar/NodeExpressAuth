// Generated by CoffeeScript 1.9.1
(function() {
  var express, isLoggedIn, passport, router;

  express = require('express');

  passport = require('passport');

  router = express.Router();

  router.get('/login', function(req, res, next) {
    return res.render('account/login', {
      title: 'Github Auth'
    });
  });

  router.post('/login', passport.authenticate('local', {
    successRedirect: '/',
    failureRedirect: '/account/login',
    failureFlash: true
  }));

  router.get('/signout', function(req, res) {
    req.logout();
    return res.redirect('/');
  });

  isLoggedIn = function(req, res, next) {
    if (req.isAuthenticated()) {
      return next();
    }
    return res.redirect('/');
  };

  module.exports = router;

}).call(this);

//# sourceMappingURL=account.js.map
